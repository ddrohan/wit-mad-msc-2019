


  {
  
  
    "properties" : {},
  
  "type" : "lab",
  "title" : "Lab-01",
  "img" : "img/main.png",
  "videoid" : "none",
  "objectives" : "<p>This lab introduces our Case Study <b>CoffeeMate</b> with a look at some of the basic features we can implement in an Android App.</p>",
  "folder" : "book-coffeemate-lab-01",
  "link" : "index.html",
  "los": [
   ]
,
  "chapters" : [
  
    {
    "title": "# Objectives",
    "shortTitle": "Lab-01",
    "contentMd" : "# Objectives\n\nThis lab introduces our Case Study <b>CoffeeMate</b> with a look at some of the basic features we can implement in an Android App.\n\nIn this Lab, you will be required to develop the first version of our Case Study, <b>CoffeeMate.1.0</b>. We'll build on this project over the coming weeks & months. On completion of this lab you'll be able to\n\n- add multiple activities & associated layouts to an Android project\n\n- switch between 'screens'\n\n- display a simple dialog window\n\n- display and add functionality to a custom menu\n"
    },
  
    {
    "title": "# Project Setup- "CoffeeMate.1.0"",
    "shortTitle": "01",
    "contentMd" : "# Project Setup- \"CoffeeMate.1.0\"\n\n![Figure 1: Start a new Android Studio project](img/firstrun.png)\nPress \"Next\" (or click the option) and then select your Activity type, for this app we'll choose a **Basic Activity**.\n\n![Figure 2: Choose Your Project](img/new01.png)\nSelect the Platform you want your app to run on - we'll just stick with Phone & Tablet here\n\n![Figure 3: Configure Your Project](img/new02.png)\nChange default project name to **CoffeeMate.1.0**, change the default package name to **ie.cm** (or provide a company domain) and select a project location and language (here, Java). Select an appropriate Minimum SDK (API 28 in the screenshot)\n\nAfter you press \"Finish\", you should now have something similar to the following:\n![Figure 4: Project open in Layout View](img/new03.png)\nand\n![Figure 5: Project open in Design View](img/new04.png)\nIf you don't see both layouts you can switch to 'Design + Blueprint' View\n\nNext, as an exercise, select File->Close Project, to close the project so we can import it again.\n\nOnce the project is open again, familiarise yourself with the project layout\n\n![Figure 5: Project Structure](img/project.png)\n\nthe initial xml layouts or \"screens\" are first displayed, this is one of the many resources you will be using and creating throughout this module. We will experiment later with modifying this layout, but first you should run the application.\n\nSelect the Project (**CoffeeMate.1.0**) and then select the 'Play' button.\n\nIf you haven't done so already, you will be asked to select/create an AVD (Android Virtual Device), as in the previous lab.\n\n<b>The Virtual Device is very heavy on resources so you may need to choose settings below what is selected in the Screenshots.</b>\n\nOtherwise, use the settings as above and your first Android App should launch, (Once you've unlocked the device!):\n"
    },
  
    {
    "title": "# Starter Resources & Refactor",
    "shortTitle": "02",
    "contentMd" : "# Starter Resources & Refactor\n\nBefore we begin, we should rename some of our initial resources and files to allow us to manage our project as we add more Activities and resources in later versions of the app.\n\nso first,\n\n- rename your **MainActivity.java** to **Home.java**\n- rename your **activity_main.xml** to **home.xml** & your **content_main.xml** to **content_home** respectively and\n- rename your **menu_main.xml** file to **menu_home.xml**\n\nYou should end up with a project like this\n\n![Figure 6: Updated Project Structure](img/project1.png)\n\nand you rename files like so\n\n![Figure 7: Refactor->Rename Files & resources](img/refactor.png)\n\nJust Right-Mouse-Click on the selected file and choose Refactor->Rename.\n\nAlso, to make things a bit easier, you can download some starter resources for this lab here - [Resources](archives/drawable.zip). It contains all of drawable (image) resources you'll need to complete this lab. So replace your existing drawable folder with this one once you've extracted the archive somewhere on your hard disk.\n\nOnce you have the drawable folder 'updated' there's a few other resources to update, so first of all, replace your <b>colors.xml</b> with the following:\n\n~~~xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <color name=\"colorPrimary\">#4893e4</color>\n    <color name=\"colorPrimaryDark\">#346daf</color>\n    <color name=\"colorAccent\">#2460a6</color>\n    <color name=\"colorFontWhite\">#ffffff</color>\n    <color name=\"colorFontOffWhite\">#f7f7f7</color>\n    <color name=\"colorFontBlack\">#000000</color>\n</resources>\n~~~\n\nReplace your <b>strings.xml</b> with\n\n~~~xml\n<resources>\n    <string name=\"app_name\">CoffeeMate.1.0</string>\n    <string name=\"appHelp\">This is the help screen for CoffeeMate</string>\n    <string name=\"appHelpExtra\">Basically\\, if you need help on using this app, you probably shouldn\\'t be using it</string>\n    <string name=\"appDisplayName\">CoffeeMate 1.0</string>\n    <string name=\"appDesc\">CoffeeMate provides the user with a quick and easy way to manage a list of coffees and your favourite coffees.</string>\n    <string name=\"appMoreInfo\">For more information about CoffeeMate or to provide feedback please visit our website.</string>\n    <string name=\"appAbout\">About CoffeeMate</string>\n    <string name=\"appWebsite\">ddrohan.github.io</string>\n    <string name=\"developer\">Developed by Davey Drohan</string>\n\n    <string name=\"searchCoffeesLbl\">Search Coffee\\'s</string>\n    <string name=\"favouritesCoffeeLbl\">Favourite Coffee\\'s</string>\n    <string name=\"addACoffeeLbl\">Coffee Check In</string>\n    <string name=\"addCoffeeBtnLbl\">Add Coffee</string>\n    <string name=\"saveCoffeeBtn\">Save Coffee</string>\n    <string name=\"recentlyViewedLbl\">Recently Added Coffee\\'s</string>\n    <string name=\"coffeeNameLbl\">Name :</string>\n    <string name=\"coffeeShopLbl\">Shop :</string>\n    <string name=\"coffeePriceLbl\">Price :</string>\n    <string name=\"coffeeRatingLbl\">Star Rating</string>\n    <string name=\"coffeeDetailsLbl\">Full Coffee Details</string>\n    <string name=\"informationLbl\">Information</string>\n    <string name=\"emptyMessageLbl\">You have no Coffee\\'s added, go have a coffee!</string>\n</resources>\n~~~\n\nReplace your <b>menu_home.xml</b> with\n\n~~~xml\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\"ie.cm.home\">\n\n    <item android:id=\"@+id/action_settings\"\n        android:title=\"Settings\"\n        android:orderInCategory=\"100\"\n        app:showAsAction=\"never\" />\n\n    <item android:id=\"@+id/menu_info\"\n        android:title=\"Info\"\n        android:orderInCategory=\"100\"\n        app:showAsAction=\"never\" />\n\n    <item android:id=\"@+id/menu_home\"\n        android:icon=\"@drawable/home\"\n        android:title=\"Home\"\n        android:orderInCategory=\"100\"\n        app:showAsAction=\"ifRoom\" />\n</menu>\n~~~\n\nand finally, your <b>content_home.xml</b> with\n\n~~~xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:context=\".Home\"\n    tools:showIn=\"@layout/home\">\n\n    <Button\n        android:id=\"@+id/searchBtn\"\n        android:layout_width=\"93dp\"\n        android:layout_height=\"119dp\"\n        android:background=\"@color/colorFontOffWhite\"\n        android:drawableTop=\"@drawable/search_72\"\n        android:text=\"@string/searchCoffeesLbl\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.033\" />\n\n    <Button\n        android:id=\"@+id/addBtn\"\n        android:layout_width=\"93dp\"\n        android:layout_height=\"119dp\"\n        android:background=\"@color/colorFontOffWhite\"\n        android:drawableTop=\"@drawable/add_72\"\n        android:text=\"@string/addACoffeeLbl\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.094\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.033\" />\n\n    <Button\n        android:id=\"@+id/favouritesBtn\"\n        android:layout_width=\"93dp\"\n        android:layout_height=\"119dp\"\n        android:background=\"@color/colorFontOffWhite\"\n        android:drawableTop=\"@drawable/favourites_72\"\n        android:text=\"@string/favouritesCoffeeLbl\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.915\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.033\" />\n\n    <ListView\n        android:id=\"@+id/recentlyAddedList\"\n        android:layout_width=\"411dp\"\n        android:layout_height=\"375dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.48\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView3\"\n        app:layout_constraintVertical_bias=\"0.135\" />\n\n    <TextView\n        android:id=\"@+id/textView3\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"21dp\"\n        android:layout_marginBottom=\"408dp\"\n        android:background=\"@color/colorPrimary\"\n        android:text=\"@string/recentlyViewedLbl\"\n        android:textAlignment=\"center\"\n        android:textColor=\"@color/colorFontWhite\"\n        android:textSize=\"16dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/addBtn\"\n        app:layout_constraintVertical_bias=\"0.461\" />\n\n    <TextView\n        android:id=\"@+id/footer\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"36dp\"\n        android:background=\"@color/colorPrimary\"\n        android:paddingTop=\"5dp\"\n        android:text=\"@string/appWebsite\"\n        android:textAlignment=\"center\"\n        android:textColor=\"@color/colorFontWhite\"\n        android:textSize=\"16sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/recentlyAddedList\"\n        app:layout_constraintVertical_bias=\"1.0\" />\n\n    <TextView\n        android:id=\"@+id/emptyList\"\n        android:layout_width=\"266dp\"\n        android:layout_height=\"31dp\"\n        android:layout_gravity=\"center\"\n        android:text=\"@string/emptyMessageLbl\"\n        android:textSize=\"12sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.584\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.662\" />\n\n</android.support.constraint.ConstraintLayout>\n~~~\n\n<b>NOTE : if you have a layout rendering error you'll need to add the following to your 'styles'</b>\n\n\n~~~xml\n <item name=\"coordinatorLayoutStyle\">@style/Widget.Design.CoordinatorLayout</item>\n~~~\nAfter Launching, The initial App will look like this\n\n![](img/starterapphome.png)\n\nIn this lab, you are required to do the following:\n\n- Create a new Add Activity and \"Wire up\" the Coffee Check-In Button to our 'Add' activity to display the Add screen.\n\n- Implement the 'Standard Menu' so when a user selects the menu option on the device, they are presented with a list of options in a menu format.\n\n- Implement the 'Help' activity, so that when a user selects 'Help' from the 'Standard Menu', the Help Screen is displayed\n\n- Complete the 'Add' activity to allow a user to 'add' a new coffee to the current list of coffees.\n\nThe following steps will guide you through these requirements, so we'll start with the 'ADD' feature and getting our Coffee Check-In Button working.\n"
    },
  
    {
    "title": "# Switching to our 'Coffee Check In' Screen",
    "shortTitle": "03",
    "contentMd" : "# Switching to our 'Coffee Check In' Screen\n\nFirst of all, have a quick look at the resource layout (content_home.xml) we will be referring to, and familiarise yourself with the properties of the different buttons as you will have to refer to these in the following steps.\n\nTh first thing we need to do is create a new 'Add' Activity, so using Android Studio, go to File->New->Activity and create a new <b>Empty Activity</b> in the <b><i>ie.cm</i></b> package with the following details\n\n![](img/lab101.png)\n\nNext, replace the add layout with\n\n~~~xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".Add\">\n\n    <TextView\n        android:id=\"@+id/addfooter\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"36dp\"\n        android:background=\"@color/colorPrimary\"\n        android:paddingTop=\"5dp\"\n        android:text=\"@string/appWebsite\"\n        android:textAlignment=\"center\"\n        android:textColor=\"@color/colorFontWhite\"\n        android:textSize=\"16sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.523\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"1.0\" />\n\n    <TextView\n        android:id=\"@+id/addPriceTV\"\n        android:layout_width=\"99dp\"\n        android:layout_height=\"43dp\"\n        android:paddingTop=\"10dp\"\n        android:text=\"@string/coffeePriceLbl\"\n        android:textAlignment=\"textEnd\"\n        android:textColor=\"@color/colorFontBlack\"\n        android:textSize=\"18sp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/addfooter\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.056\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.324\" />\n\n    <TextView\n        android:id=\"@+id/addShopTV\"\n        android:layout_width=\"99dp\"\n        android:layout_height=\"43dp\"\n        android:paddingTop=\"10dp\"\n        android:text=\"@string/coffeeShopLbl\"\n        android:textAlignment=\"textEnd\"\n        android:textColor=\"@color/colorFontBlack\"\n        android:textSize=\"18sp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/addfooter\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.056\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.179\" />\n\n    <TextView\n        android:id=\"@+id/addNameTV\"\n        android:layout_width=\"99dp\"\n        android:layout_height=\"43dp\"\n        android:paddingTop=\"10dp\"\n        android:text=\"@string/coffeeNameLbl\"\n        android:textAlignment=\"textEnd\"\n        android:textColor=\"@color/colorFontBlack\"\n        android:textSize=\"18sp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/addfooter\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.056\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.036\" />\n\n    <EditText\n        android:id=\"@+id/addNameET\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:ems=\"10\"\n        android:hint=\"Enter Coffee Name\"\n        android:inputType=\"textPersonName\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.447\"\n        app:layout_constraintStart_toEndOf=\"@+id/addNameTV\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.017\" />\n\n    <EditText\n        android:id=\"@+id/addPriceET\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:ems=\"10\"\n        android:hint=\"Enter Price\"\n        android:inputType=\"numberDecimal\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.447\"\n        app:layout_constraintStart_toEndOf=\"@+id/addPriceTV\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.296\" />\n\n    <EditText\n        android:id=\"@+id/addShopET\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:ems=\"10\"\n        android:hint=\"Enter Shop\"\n        android:inputType=\"textPersonName\"\n        app:layout_constraintBottom_toTopOf=\"@+id/addPriceET\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.37\"\n        app:layout_constraintStart_toEndOf=\"@+id/addShopTV\"\n        app:layout_constraintTop_toBottomOf=\"@+id/addNameET\"\n        app:layout_constraintVertical_bias=\"0.484\" />\n\n    <RatingBar\n        android:id=\"@+id/addRatingBar\"\n        android:layout_width=\"242dp\"\n        android:layout_height=\"52dp\"\n        android:rating=\"1\"\n        android:stepSize=\"0.5\"\n        app:layout_constraintBottom_toTopOf=\"@+id/addfooter\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/addPriceET\"\n        app:layout_constraintVertical_bias=\"0.213\" />\n\n    <Button\n        android:id=\"@+id/addCoffeeBtn\"\n        android:layout_width=\"79dp\"\n        android:layout_height=\"84dp\"\n        android:background=\"@color/colorFontOffWhite\"\n        android:drawableTop=\"@drawable/blue_add_48\"\n        android:text=\"@string/addCoffeeBtnLbl\"\n        app:layout_constraintBottom_toTopOf=\"@+id/addfooter\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/addRatingBar\"\n        app:layout_constraintVertical_bias=\"0.714\" />\n\n</android.support.constraint.ConstraintLayout>\n~~~\n\nWe <b>won't</b> need to implement specific Event Listeners for this step, instead we will use the simpler 'direct binding' approach where we associate a method to be triggered when our buttons are pressed or <i><b>clicked</b></i>.\n\nSo, navigate to the <b>onClick</b> property of the 'Coffee Check In' button on your 'Home' Screen (as below) and enter <b>add</b> for the method name.\n\n![](img/lab102.png)\n\nNext, open your <b>Home.java</b> activity and add the following method\n\n~~~java\n    public void add(View v)\n    {\n    startActivity(new Intent(this,Add.class));\n    }\n~~~\n\nYou'll be prompted to 'add' the <b>Intent</b> class so go ahead and use the shortcut to do that.\n\nYou should run your app at this stage just to see if it behaves like it should and when you click 'Coffee Check In' you should get\n\n![](img/starterappadd.png)\n\nNow we'll start with implementing the menu.\n\nBecause we'll be using the same menu for all our screens we're going to centralise the functionality by storing it in a 'Base' class.\n\nBut first, we need to reorganise our package structure, so create a new package called\n\n~~~java\nie.cm.activities\n~~~\n\nand 'move' (drag-n-drop) your existing Home and Add Activities into this package.\n\n\nNow go ahead and create a new java class, called <b>Base</b> in the 'activities' package\n\n![](img/newbase.png)\n\nand replace it with the following\n\n~~~java\npackage ie.cm.activities;\n\nimport ie.cm.R;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.Menu;\nimport android.view.MenuItem;\n\npublic class Base extends AppCompatActivity {\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_home, menu);\n        return true;\n    }\n\n    public void menuHome(MenuItem m) {\n        startActivity(new Intent(this, Home.class));\n    }\n}\n~~~\n\nNow, see if you can refactor both the Home and Add Activities to utilise this Base class?\n\nNote : A Menu Item has it's own <i>onClick</i> also, so you should be trying to leverage this with the 'menuHome' method above.\n"
    },
  
    {
    "title": "# Our Custom Menu",
    "shortTitle": "04",
    "contentMd" : "# Our Custom Menu\n\nOn completion of this step we'll have something like this:\n\n![](img/starterappmenu.png)\n\nwhich we sort of already have, but we'll add functionality. So once again, have a quick look at the resource we will use to create our menu, and familiarise yourself with the \"id's\" of the different options, you will have to refer to these later on in your code.\n\nSo open up your <b>menu_home.xml</b> and replace with the following\n\n~~~xml\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\"ie.cm.activities.Home\">\n\n    <item android:id=\"@+id/menu_help\"\n        android:title=\"Help\"\n        android:orderInCategory=\"100\"\n        android:onClick=\"menuHelp\"\n        app:showAsAction=\"never\" />\n\n    <item android:id=\"@+id/menu_info\"\n        android:title=\"Info\"\n        android:orderInCategory=\"100\"\n        android:onClick=\"menuInfo\"\n        app:showAsAction=\"never\" />\n\n    <item\n        android:id=\"@+id/menu_home\"\n        android:icon=\"@drawable/home\"\n        android:onClick=\"menuHome\"\n        android:orderInCategory=\"100\"\n        android:title=\"Home\"\n        app:showAsAction=\"ifRoom\" />\n</menu>\n~~~\n\nThen, open up your <b>Base.java</b> and add the following methods\n\n~~~java\npublic void menuInfo(MenuItem m)\n  {\n      new AlertDialog.Builder(this)\n              .setTitle(getString(R.string.appAbout))\n              .setMessage(getString(R.string.appDesc)\n                      + \"\\n\\n\"\n                      + getString(R.string.appMoreInfo))\n              .setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n                  @Override\n                  public void onClick(DialogInterface dialog, int which) {\n                     // we could put some code here too\n                  }\n              })\n              .show();\n  }\n\n public void menuHelp(MenuItem m)\n    {\n\n    }\n\n~~~\nFix the import errors and your Base Class should now look something like this\n\n~~~java\npublic class Base extends AppCompatActivity {\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_home, menu);\n        return true;\n    }\n\n    public void menuHome(MenuItem m) {\n        startActivity(new Intent(this, Home.class));\n    }\n\n    public void menuInfo(MenuItem m)\n      {\n          new AlertDialog.Builder(this)\n                  .setTitle(getString(R.string.appAbout))\n                  .setMessage(getString(R.string.appDesc)\n                          + \"\\n\\n\"\n                          + getString(R.string.appMoreInfo))\n                  .setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n                      @Override\n                      public void onClick(DialogInterface dialog, int which) {\n                         // we could put some code here too\n                      }\n                  })\n                  .show();\n      }\n\n    public void menuHelp(MenuItem m)\n    {\n\n    }\n}\n~~~\n\nYou'll notice we haven't implemented the <b>menuHelp</b> method - as we don't have our <b>Help</b> activity yet but you can still run your app and confirm that the other method still functions as expected.\n\nWe really only have two activities at the moment (our 'Home' & Add Activities) the menu won't do much, but we'll add to this once we have our Help Screen completed - run your app again to test your menu and see if it displays the way it's supposed to. (something like below for the 'info' option)\n\n![](img/starterappinfo.png)\n\nNext we'll add in our new Help screen.\n"
    },
  
    {
    "title": "# The Help Screen",
    "shortTitle": "05",
    "contentMd" : "# The Help Screen\n\nTo implement the Help feature of our App you need to :\n\n- create a new Activity (<b>Help.java</b>) and associated layout.\n- link this activity with our menu.\n\nSo, using Android Studio, go to File->New->Activity and again create a new <b>Empty Activity</b> in the <b><i>ie.cm.activities</i></b> package.\n\n![](img/newhelp.png)\n\nNext, extend your <b>Help.java</b> Activity from \"Base\" as the parent class. This will insure we have the same menu as the other activities.\n\n\nMainly for practice, design your Help screen something like the following, but you can design it whatever way you want really, so take some time to customise this layout to your own liking.\n\n![](img/starterapphelp.png)\n\nOnce you're happy with your own Help Screen, go ahead and wire it up to your <b>menuHelp</b> method in your Base class, so when the user selects the 'Help' option from the menu, they are taken to your help screen (very like what you did for the info dialog).\n\nNow we can move on to actually adding a Coffee to our App.\n"
    },
  
    {
    "title": "# Adding a Coffee - Saving our data in 'Coffee Check In'",
    "shortTitle": "06",
    "contentMd" : "# Adding a Coffee - Saving our data in 'Coffee Check In'\n\nOur Add screen looks as follows:\n\n![](img/starterappadd.png)\n\nThe first thing to do is add a click event to the 'Add' Button on the layout, so do that now, as below\n\n![](img/lab103.png)\n\nand add the corresponding method <b><i>addCoffee()</i></b> in Add.java.\n\nSpecifically, the <b><i>addCoffee()</i></b> method needs to\n\n- Grab all the values that the user has entered for the Coffee details, validate them & create a Coffee object\n\n- Add the Coffee object to some kind of list\n\n- Launch the \"<b>Home</b>\" Activity to return to the home screen, to display the current list of Coffee objects (probably via a call to <b><i>goToActivity()</i></b>)\n\nWithout referring to the notes (too much!) try and get this working, but here's some code to get you started.\n\nFirst of all, we need a coffee 'Model' and somewhere to store those coffees so create a new <b>Coffee</b> class in a new package\n\n~~~java\nie.cm.models\n~~~\n\nand replace it with this\n\n~~~java\npublic class Coffee implements Serializable\n{\n\tpublic int coffeeId;\n\tpublic String coffeeName;\n\tpublic String shop;\n\tpublic double rating;\n\tpublic double price;\n\tpublic boolean favourite;\n\n\n\tpublic Coffee() {}\n\n\tpublic Coffee(String name, String shop, double rating, double price, boolean fav)\n\t{\n\t\tthis.coffeeName = name;\n\t\tthis.shop = shop;\n\t\tthis.rating = rating;\n\t\tthis.price = price;\n\t\tthis.favourite = fav;\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\treturn coffeeName + \", \" + shop + \", \" + rating\n\t\t\t\t+ \", \" + price + \", fav =\" + favourite;\n\t}\n}\n~~~\n\nThen, in the Base class, add our 'coffeelist' declaration like so\n\n~~~java\npublic static ArrayList<Coffee> coffeeList = new ArrayList<Coffee>();\n~~~\n\nNow, back in your Add.java, have a go at completing the <b><i>add()</i></b> method, using something along the lines of the following extracts\n\n~~~java\ncoffeeName = name.getText().toString();\ncoffeeShop = shop.getText().toString();\n\ttry {\n\tcoffeePrice = Double.parseDouble(price.getText().toString());\n\t}\n\tcatch(NumberFormatException e){\n\tcoffeePrice = 0.0;\n\t}\nratingValue = ratingBar.getRating();\n~~~\nÂ \nand this\n\n~~~java\nCoffee c = new Coffee(coffeeName, coffeeShop, ratingValue, coffeePrice, false);\ncoffeeList.add(c);\n~~~\n\n![](img/lab209.png)  \n\n![](img/lab210.png)\n\nRun the App once again to confirm the add feature is now implemented.\n\nHowever, if you're not seeing your list of coffees  you might need to take another look at your <b>Home</b> Activity and try and work out what's missing - but don't worry, we'll cover that in the next step.\n"
    },
  
    {
    "title": "# Displaying list of Coffees",
    "shortTitle": "07",
    "contentMd" : "# Displaying list of Coffees\n\nThe obvious (hopefully) reason that the list of coffees is not displaying, is because we haven't refactored Home to access the list and display it in our ListView.\n\nSo the first thing to do is open Home.java and add and 'Override' method, so we can confirm our coffees are being added to the list, every time we go 'Home'.\n\nYou can do this in Android Studio like so\n\nFirst, Right Mouse Click anywhere inside the class and choose 'Generate'\n\n![](img/lab104.png)\n\nand 'Override Methods'\n\n![](img/lab105.png)\n\nand 'onResume()'\n\n![](img/lab106.png)\n\nThen add the following to your newly added onResume()\n\n~~~java\nLog.v(\"coffeemate\", \"Home : \" + coffeeList);\n~~~\n\nRun your app again, add a few coffees and keep track of the logcat and filter out just the 'coffeemate' messages - you should be seeing something like this\n\n![](img/logcat.png)\n\nThe last thing we need to do is display them as a list on the Home Screen. There's a very useful class called <b>ArrayAdapter</b> that can help us to do this.\n\nWe will cover ArrayAdapters in detail later on in the module, and create our own Custom Adapters, but for the moment, replace your 'Home' Activity with the following\n\n\n~~~java\npublic class Home extends Base {\n\n    TextView emptyList;\n    ListView coffeeListView;\n    ArrayAdapter<Coffee> coffeeAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.home);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        emptyList = findViewById(R.id.emptyList);\n        coffeeListView = findViewById(R.id.recentlyAddedList);\n        coffeeListView.setEmptyView(emptyList);\n        coffeeAdapter = new ArrayAdapter<>(this, android.R.layout.simple_list_item_1,coffeeList);\n        coffeeListView.setAdapter(coffeeAdapter);\n\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, \"Information\", Snackbar.LENGTH_LONG)\n                        .setAction(\"More Info...\", new View.OnClickListener() {\n                            @Override\n                            public void onClick(View view) {\n\n                            }\n                        }).show();\n            }\n        });\n    }\n\n    public void add(View v) {\n        startActivity(new Intent(this, Add.class));\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Log.v(\"coffeemate\",\"Home : \" + coffeeList);\n\n        if(!coffeeList.isEmpty())\n            coffeeAdapter.notifyDataSetChanged();\n    }\n}\n~~~\n\nRun and test the app again, and you should see your coffees displayed like so\n\n![](img/starterappfinal.png)\n\nWell Done :)\n"
    },
  
    {
    "title": "# Exercises",
    "shortTitle": "Exercises",
    "contentMd" : "# Exercises\n\n## Solution\n\nThis is a solution to the lab:\n\n- [CoffeeMate.1.0.Solution.zip](archives/CoffeeMate.1.0.Solution.zip)\n\n## Exercise\n\nIn this lab you have experimented with Activities and menus:\n\n- Experiment with adding in an additional Activity and and extra menu option which switches to that Activity\n\n- Consider using some logos or icons not in the resources folder, but ones you have found yourself as the menu option?\n"
    }
  
  ]
  }

